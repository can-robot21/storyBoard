# AI 기반 이미지→영상 생성 워크플로우 툴

## 📋 프로젝트 개요

AI 기반 프로젝트 파이프라인 툴로, 텍스트 입력부터 최종 영상 생성까지의 전체 워크플로우를 관리하는 웹 애플리케이션입니다.

### 🎯 주요 기능
- **프로젝트 개요**: AI 텍스트 생성 (스토리, 캐릭터, 시나리오 프롬프트)
- **캐릭터 설정**: AI 이미지 생성 (캐릭터, 배경, 설정컷)
- **영상 생성**: 컷별 영상 생성 (최대 10컷, 페이지네이션 지원)

## 🏗️ 아키텍처 설계

### 레이아웃 구조 (3단계 워크플로우)
```
┌─────────────────────────────────────────────────────────────┐
│ [로고]   프로젝트개요|캐릭터설정|영상생성  [로그인/설정/저장/내보내기] │
├─────────────────────────────────────────────────────────────┤
│ (입력창)                    │            (결과창)                │
│ ─────────────────────────── │ ─────────────────────────────── │
│ 1. 스토리 기본 설정         │  [생성된 프롬프트 표시]            │
│ 2. 캐릭터 설정              │  [스토리/캐릭터/시나리오 프롬프트]  │
│ 3. 시나리오 생성            │  [저장 버튼]                     │
│ ─────────────────────────── │ ─────────────────────────────── │
│ 1. 캐릭터 생성              │  [생성된 이미지들]                │
│ 2. 배경 설정                │  [캐릭터/배경/설정컷 카드]        │
│ 3. 설정 컷                  │  [다운로드/삭제 버튼]             │
│ ─────────────────────────── │ ─────────────────────────────── │
│ 1. 컷 수 설정 (1-10)        │  [컷별 영상 (3x3 그리드)]         │
│ 2. 비율 선택 (16:9/1:1/9:16)│  [페이지네이션]                  │
│ 3. 텍스트+시나리오          │  [프로젝트 영상 저장]             │
│ 4. 캐릭터+의상              │                                │
│ 5. 추가 요소                │                                │
├─────────────────────────────────────────────────────────────┤
│              (진행률 추적기)                                    │
└─────────────────────────────────────────────────────────────┘
```

### 기술 스택
- **Frontend**: React 18 + TypeScript + Tailwind CSS
- **상태 관리**: Zustand
- **HTTP 클라이언트**: Axios
- **아이콘**: Lucide React
- **빌드 도구**: Create React App

## 📁 프로젝트 구조

```
frontend/
├── public/
├── src/
│   ├── components/          # 재사용 가능한 컴포넌트
│   │   ├── common/         # 공통 컴포넌트
│   │   │   ├── Button.tsx
│   │   │   └── ProgressTracker.tsx
│   │   └── steps/          # 워크플로우 단계별 컴포넌트
│   │       ├── ProjectOverview.tsx
│   │       ├── CharacterStep.tsx
│   │       └── VideoStep.tsx
│   ├── stores/             # 상태 관리
│   │   ├── projectStore.ts
│   │   └── uiStore.ts
│   ├── types/              # TypeScript 타입 정의
│   │   ├── project.ts
│   │   └── common.ts
│   ├── services/           # API 서비스
│   │   └── apiService.ts
│   ├── utils/              # 유틸리티 함수
│   │   ├── constants.ts
│   │   └── helpers.ts
│   ├── data/               # JSON 데이터
│   │   └── projectData.json
│   ├── App.tsx             # 메인 애플리케이션
│   └── index.tsx           # 진입점
├── package.json
├── tailwind.config.js
├── tsconfig.json
└── README.md
```

## 🚀 주요 기능 상세

### 1. 프로젝트 개요 (AI 텍스트 생성)
**목적**: 프로젝트의 기본 스토리와 캐릭터를 설정하고 AI 프롬프트를 생성

**입력 필드**:
- **스토리**: 기본 스토리 개요 입력
- **캐릭터**: 주요 캐릭터 설명 입력
- **스토리 텍스트**: 상세 스토리 텍스트 입력

**AI 생성 기능**:
- **스토리 프롬프트**: 입력된 스토리를 바탕으로 AI 프롬프트 생성
- **캐릭터 프롬프트**: 캐릭터 설명을 바탕으로 캐릭터 설정 프롬프트 생성
- **시나리오 프롬프트**: 스토리와 캐릭터를 종합한 시나리오 프롬프트 생성

**결과 표시**:
- 생성된 프롬프트들을 색상별로 구분하여 표시
- 모든 프롬프트 생성 완료 시 저장 버튼 활성화

### 2. 캐릭터 설정 (AI 이미지 생성)
**목적**: 캐릭터, 배경, 설정컷의 AI 이미지를 생성하고 관리

**생성 항목**:
- **캐릭터**: 텍스트 설명 또는 이미지 업로드로 캐릭터 생성
- **배경**: 텍스트 설명 또는 이미지 업로드로 배경 생성
- **설정 컷**: 텍스트 설명 또는 이미지 업로드로 설정 컷 생성

**이미지 첨부 기능**:
- 각 항목별로 다중 이미지 업로드 가능
- 첨부된 이미지 목록 표시 및 개별 삭제 가능
- 텍스트와 이미지를 모두 활용한 AI 생성

**결과 관리**:
- 생성된 이미지들을 카드 형태로 표시
- 각 카드마다 다운로드/삭제 버튼 제공
- 생성된 항목 수에 따른 다음 버튼 표시

### 3. 영상 생성 (컷별 영상 생성)
**목적**: 설정된 컷 수만큼 영상을 생성하고 페이지네이션으로 관리

**설정 옵션**:
- **컷 수**: 1-10컷까지 선택 가능
- **영상 비율**: 16:9 (가로), 1:1 (정사각형), 9:16 (세로) 선택

**입력 필드**:
- **텍스트+시나리오**: 현재 컷의 텍스트와 시나리오 입력
- **캐릭터+의상**: 캐릭터와 의상 설명 입력 (이미지 첨부 가능)
- **추가 요소**: 구도, 소품 등 추가 요소 입력 (이미지 첨부 가능)

**생성 및 관리**:
- 컷별로 영상 생성 (최대 설정된 컷 수만큼)
- 생성된 컷들은 번호순으로 자동 정렬
- 삭제 시 남은 컷들의 번호 자동 재정렬

**페이지네이션**:
- 9개씩 페이지로 나누어 표시 (3x3 그리드)
- 이전/다음 버튼과 페이지 번호 버튼 제공
- 현재 페이지 정보 표시

**프로젝트 저장**:
- 모든 컷 생성 완료 후 프로젝트 영상 저장 가능
- 저장 완료 시 시각적 피드백 제공

## 🔧 기술적 특징

### 상태 관리
- **Zustand**: 가벼운 상태 관리 라이브러리 사용
- **로컬 상태**: 각 단계별 독립적인 상태 관리
- **전역 상태**: UI 상태와 알림 관리

### 반응형 디자인
- **모바일**: 1열 레이아웃
- **태블릿**: 2열 레이아웃
- **데스크톱**: 3열 레이아웃

### 사용자 경험
- **진행률 추적**: 하단에 단계별 진행 상황 표시
- **알림 시스템**: 성공/오류/정보 알림 제공
- **직관적 네비게이션**: 명확한 버튼과 단계 구분

## 📊 메뉴별 구조 및 JSON 데이터 형식

### 1. 프로젝트 개요 (OverviewStep)

#### 메뉴 구조
- **입력 필드**:
  - `title`: 프로젝트 제목
  - `description`: 프로젝트 설명
  - `story`: 기본 스토리
  - `character`: 캐릭터 설명
  - `storyText`: 상세 스토리 텍스트
  - `genre`: 장르 (애니메이션, 교육용, 광고 등)
  - `target_audience`: 타겟 오디언스 (유아, 청소년, 성인 등)
  - `duration`: 예상 영상 길이 (3분, 5분, 10분 등)

- **AI 생성 기능**:
  - 스토리 프롬프트 생성
  - 캐릭터 프롬프트 생성
  - 시나리오 프롬프트 생성

#### JSON 데이터 형식
```json
{
  "overview": {
    "id": "overview",
    "title": "프로젝트 개요",
    "description": "AI 텍스트 생성",
    "status": "completed",
    "data": {
      "story": "주인공이 모험을 떠나는 판타지 스토리",
      "character": "용감한 소년 모험가",
      "storyText": "한 소년이 마법의 세계로 떠나 용을 만나고 우정을 쌓는 이야기",
      "prompts": {
        "storyPrompt": "스토리 프롬프트: 주요 스토리: 주인공이 모험을 떠나는 판타지 스토리...",
        "characterPrompt": "캐릭터 설정 프롬프트: 캐릭터 설명: 용감한 소년 모험가...",
        "scenarioPrompt": "시나리오 프롬프트: 스토리: 주인공이 모험을 떠나는 판타지 스토리..."
      }
    }
  }
}
```

### 2. 캐릭터 설정 (CharacterStep)

#### 메뉴 구조
- **입력 필드**:
  - `description`: 캐릭터 설명
  - `style`: 스타일 (애니메이션, 사실적, 만화, 픽사)
  - `referenceImages`: 참조 이미지 파일들

- **AI 생성 기능**:
  - 캐릭터 이미지 생성
  - 배경 이미지 생성
  - 설정 컷 이미지 생성

- **이미지 관리**:
  - 다중 이미지 업로드
  - 첨부된 이미지 목록 표시
  - 개별 이미지 삭제 기능

#### JSON 데이터 형식
```json
{
  "character": {
    "id": "character",
    "title": "캐릭터 설정",
    "description": "AI 이미지 생성",
    "status": "current",
    "data": {
      "characters": [
        {
          "id": "char_001",
          "name": "주인공",
          "description": "용감한 소년 모험가",
          "style": "애니메이션",
          "imageUrl": "/images/characters/char_001.jpg",
          "attachedImages": [],
          "createdAt": "2025-01-27T00:00:00Z"
        }
      ],
      "backgrounds": [
        {
          "id": "bg_001",
          "name": "마법의 숲",
          "description": "신비로운 마법의 숲 배경",
          "imageUrl": "/images/backgrounds/bg_001.jpg",
          "attachedImages": [],
          "createdAt": "2025-01-27T00:00:00Z"
        }
      ],
      "settingCuts": [
        {
          "id": "setting_001",
          "name": "마을 입구",
          "description": "모험의 시작점인 마을 입구",
          "imageUrl": "/images/settings/setting_001.jpg",
          "attachedImages": [],
          "createdAt": "2025-01-27T00:00:00Z"
        }
      ]
    }
  }
}
```

### 3. 영상 생성 (VideoStep)

#### 메뉴 구조
- **설정 옵션**:
  - `cutCount`: 컷 수 (1-10컷)
  - `videoRatio`: 영상 비율 (16:9, 1:1, 9:16)

- **입력 필드**:
  - `textScenario`: 텍스트+시나리오
  - `characterOutfit`: 캐릭터+의상
  - `additionalElements`: 추가 요소 (구도, 소품 등)

- **이미지 첨부**:
  - 캐릭터+의상 이미지 첨부
  - 추가 요소 이미지 첨부
  - 다중 이미지 업로드 지원

- **영상 관리**:
  - 컷별 영상 생성
  - 3x3 그리드 표시
  - 페이지네이션 (9개씩)
  - 다운로드/삭제 기능

#### JSON 데이터 형식
```json
{
  "video": {
    "id": "video",
    "title": "영상 생성",
    "description": "컷별 이미지 생성",
    "status": "pending",
    "data": {
      "settings": {
        "cutCount": 5,
        "videoRatio": "16:9",
        "currentCutIndex": 0
      },
      "cuts": [
        {
          "id": "cut_001",
          "cutNumber": 1,
          "textScenario": "주인공이 마을을 떠나는 장면",
          "characterOutfit": "여행자 복장을 입은 주인공",
          "additionalElements": "가방과 지도를 들고 있음",
          "videoUrl": "/videos/cuts/cut_001.mp4",
          "videoRatio": "16:9",
          "attachedImages": {
            "characterOutfit": [],
            "additional": []
          },
          "createdAt": "2025-01-27T00:00:00Z"
        }
      ],
      "pagination": {
        "currentPage": 1,
        "itemsPerPage": 9,
        "totalPages": 1
      }
    }
  }
}
```

### 4. 전체 프로젝트 데이터 구조

#### 완전한 JSON 데이터 형식
```json
{
  "projectOverview": {
    "id": "proj_001",
    "name": "AI 영상 프로젝트",
    "description": "AI 기반 이미지→영상 생성 워크플로우 툴",
    "createdAt": "2025-01-27T00:00:00Z",
    "updatedAt": "2025-01-27T00:00:00Z",
    "status": "active",
    "steps": {
      "overview": { /* 위의 overview 데이터 */ },
      "character": { /* 위의 character 데이터 */ },
      "video": { /* 위의 video 데이터 */ }
    }
  },
  "ui": {
    "currentStep": "프로젝트 개요",
    "isLoggedIn": false,
    "notifications": [],
    "theme": "light"
  },
  "api": {
    "baseUrl": "http://localhost:3001/api",
    "endpoints": {
      "projects": "/projects",
      "characters": "/characters",
      "backgrounds": "/backgrounds",
      "videos": "/videos",
      "ai": {
        "textGeneration": "/ai/text",
        "imageGeneration": "/ai/image",
        "videoGeneration": "/ai/video"
      }
    }
  }
}
```

## 🚀 설치 및 실행

### 필수 요구사항
- Node.js 16.0.0 이상
- npm 7.0.0 이상

### 설치
```bash
cd frontend
npm install
```

### 개발 서버 실행
```bash
npm start
```
브라우저에서 `http://localhost:3000`으로 접속

### 빌드
```bash
npm run build
```

## 📝 개발 가이드

### 컴포넌트 구조
- **App.tsx**: 메인 애플리케이션 컴포넌트 (모든 UI 로직 포함)
- **Button.tsx**: 재사용 가능한 버튼 컴포넌트
- **ProgressTracker.tsx**: 진행률 추적 컴포넌트

### 상태 관리 패턴
```typescript
// 로컬 상태 (컴포넌트 내부)
const [currentStep, setCurrentStep] = useState("프로젝트 개요");

// 전역 상태 (Zustand)
const { addNotification } = useUIStore();
```

### 스타일링
- **Tailwind CSS**: 유틸리티 퍼스트 CSS 프레임워크
- **반응형 클래스**: `md:grid-cols-2 lg:grid-cols-3`
- **커스텀 컴포넌트**: Button, ProgressTracker 등

## 🔄 업데이트 로그

### v1.4.0 (2025-01-27)
- ✅ 영상 생성 메뉴 UI 개선 (비율 선택, 페이지네이션)
- ✅ 컷별 영상 관리 시스템 (최대 10컷, 3x3 그리드)
- ✅ 영상 썸네일 하단 정보 제거로 깔끔한 디자인
- ✅ JSON 데이터 구조 업데이트
- ✅ README.md 전면 개편 (주니어 개발자 친화적)

### v1.3.0 (2025-01-27)
- ✅ 프로젝트 개요: AI 텍스트 생성 기능 (스토리, 캐릭터, 스토리 텍스트 입력 → AI 정리)
- ✅ 캐릭터 설정: 캐릭터/배경/설정컷 AI 이미지 생성 기능
- ✅ 영상 생성: 컷별 이미지 생성 시스템 (컷 수 설정, 텍스트+시나리오, 캐릭터+의상, 추가 요소)
- ✅ 컷별 생성/재생성/다음 버튼으로 워크플로우 관리
- ✅ 생성된 항목들의 시각적 표시 및 삭제 기능
- ✅ TypeScript 에러 완전 해결 및 코드 최적화

### v1.2.0 (2025-01-27)
- ✅ 왼쪽 입력/제어, 오른쪽 결과 표시 레이아웃 구현
- ✅ 단계별 입력 폼 및 제어 버튼 구성 (실행/재실행/완료/추가)
- ✅ 캐릭터 1,2,3 추가 항목 관리 기능
- ✅ 스토리보드 컷 1,2,3 표시 기능
- ✅ 배경 이미지 1,2,3 관리 기능
- ✅ 최종 영상 미리보기 및 다운로드 기능
- ✅ 사용하지 않는 코드 정리 및 ESLint 경고 해결

### v1.1.0 (2025-01-27)
- ✅ 심플한 3단계 메뉴 구성으로 리팩토링
- ✅ 단계별 체크리스트 및 진행률 추적기 추가
- ✅ 불필요한 컴포넌트 및 서비스 정리

## 🤝 기여 가이드

### 코드 스타일
- TypeScript 사용 필수
- ESLint 규칙 준수
- 컴포넌트는 함수형으로 작성
- 상태 관리는 Zustand 사용

### 커밋 메시지
```
feat: 새로운 기능 추가
fix: 버그 수정
docs: 문서 업데이트
style: 코드 스타일 변경
refactor: 코드 리팩토링
```

## 📄 라이선스

MIT License

---

**최종 업데이트**: 2025-01-27  
**버전**: v1.4.0  
**개발자**: AI Assistant  
**라이선스**: MIT