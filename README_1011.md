# StoryBoard AI 영상 제작 도구 - 기능 정리

## 📋 **프로젝트 개요**
AI 기반 영상 제작 도구로, 텍스트 프롬프트와 이미지를 활용하여 스토리보드, 이미지, 영상을 생성하는 통합 플랫폼입니다.

---

## 🚀 **주요 기능**

### 1. **프로젝트 관리**
- **프로젝트 생성/저장/로드**: IndexedDB 기반 로컬 저장
- **프로젝트 참조 데이터**: 생성된 모든 콘텐츠를 프로젝트별로 관리
- **이미지 저장 정책**: 현재와 직전 2회까지만 로컬 저장, 그 이상은 새 프로젝트 저장 권고

### 2. **AI 이미지 생성**
- **캐릭터 이미지 생성**: 스토리와 캐릭터 정보 기반 AI 이미지 생성
- **배경 이미지 생성**: 시나리오 기반 배경 이미지 생성
- **설정 컷 이미지 생성**: 스토리와 캐릭터를 조합한 설정 컷 이미지 생성
- **다중 이미지 생성**: 한 번에 여러 이미지 생성 가능
- **프롬프트 입력 및 확인**: 생성 전 프롬프트 입력 및 확인 모달

### 3. **이미지 관리**
- **이미지 편집**: 생성된 이미지의 설명 텍스트 수정
- **이미지 삭제**: 개별 이미지 삭제 기능
- **이미지 다운로드**: 생성된 이미지를 로컬에 다운로드
- **이미지 선택**: 영상 생성용 이미지 선택 기능

### 4. **AI 영상 생성**
- **간단 생성 모드**: 영문 프롬프트와 이미지만으로 영상 생성
- **고급 생성 모드**: 상세한 설정을 통한 정교한 영상 생성
- **참조 이미지 활용**: 생성된 이미지를 참조하여 영상 생성
- **Veo API 연동**: Google AI Veo API를 통한 실제 영상 생성

### 5. **텍스트 카드 생성**
- **에피소드 기반 생성**: 에피소드별 텍스트 카드 생성
- **컷별 선택**: 에피소드 내 특정 컷만 선택하여 카드 생성
- **텍스트 카드 관리**: 생성된 텍스트 카드 편집 및 삭제
- **일괄 삭제**: 선택된 텍스트 카드 일괄 삭제

### 6. **API 사용량 관리**
- **실시간 사용량 표시**: 토큰 사용량과 비용 실시간 표시
- **상세 통계**: 타입별, 모델별 API 호출 통계
- **세션 관리**: API 사용량 세션 초기화 기능

---

## 📱 **페이지별 용도 및 사용법**

### **1. 프로젝트 개요 (Project Overview)**
**용도**: 프로젝트의 기본 정보와 전체적인 구조 파악
**사용법**:
- 프로젝트 제목, 설명, 스토리 입력
- 캐릭터 목록 생성 및 관리
- 프로젝트 저장/로드

### **2. 이미지 생성 (Image Generation)**
**용도**: AI를 활용한 다양한 타입의 이미지 생성
**사용법**:
1. **캐릭터 이미지 생성**:
   - "AI로 캐릭터 이미지 생성" 클릭
   - 프롬프트 입력 모달에서 상세한 캐릭터 설명 입력
   - "생성하기" 버튼으로 이미지 생성

2. **배경 이미지 생성**:
   - "AI로 배경 이미지 생성" 클릭
   - 배경에 대한 상세한 프롬프트 입력
   - 생성된 이미지 확인 및 다운로드

3. **설정 컷 이미지 생성**:
   - "AI로 설정 컷 이미지 생성" 클릭
   - 장면 설정에 대한 프롬프트 입력
   - 생성된 이미지 관리

**이미지 관리 기능**:
- 📥 **다운로드**: 이미지 우클릭 또는 다운로드 버튼으로 로컬 저장
- ✏️ **편집**: 이미지 설명 텍스트 수정
- 🗑️ **삭제**: 불필요한 이미지 삭제
- ☑️ **선택**: 영상 생성용 이미지 선택

### **3. 영상 생성 (Video Generation)**
**용도**: 생성된 이미지와 텍스트를 활용한 AI 영상 생성
**사용법**:

#### **간단 생성 모드**:
1. "간단 생성" 탭 선택
2. 영문 프롬프트 입력
3. 참조 이미지 첨부 (업로드 또는 저장된 이미지 선택)
4. "영상 생성하기" 버튼 클릭

#### **고급 생성 모드**:
1. "고급 생성" 탭 선택
2. 상세한 영상 설정 (모델, 비율, 품질, 길이)
3. 텍스트 카드 선택
4. 영상 생성

**텍스트 카드 관리**:
- 에피소드별 텍스트 카드 생성
- 컷별 선택을 통한 세밀한 제어
- 생성된 텍스트 카드 편집/삭제

### **4. 프로젝트 참조 (Project Reference)**
**용도**: 생성된 모든 콘텐츠를 한 곳에서 확인 및 관리
**사용법**:
- 생성된 이미지, 텍스트, 영상 확인
- 프로젝트 참조에서 이미지 선택하여 재사용
- 콘텐츠 편집 및 삭제

---

## 🔧 **기술적 개선사항**

### **1. 상태 관리 개선**
- **ID 기반 삭제**: 배열 인덱스 대신 고유 ID를 사용한 안정적인 삭제
- **React Key 최적화**: 고유한 key prop으로 리렌더링 최적화
- **상태 동기화**: 삭제 시 선택 상태와 메인 상태 동기화

### **2. 사용자 경험 개선**
- **프롬프트 입력 모달**: AI 생성 전 프롬프트 확인 및 수정
- **실시간 알림**: 성공/실패/경고 알림 시스템
- **로딩 상태 표시**: 생성 중 상태를 명확히 표시
- **에러 처리**: 상세한 에러 메시지와 복구 방법 제시

### **3. 성능 최적화**
- **이미지 저장 정책**: 로컬 저장소 효율적 관리
- **API 호출 최적화**: 불필요한 API 호출 방지
- **메모리 관리**: 이미지 데이터 효율적 관리

### **4. UI/UX 개선**
- **직관적인 버튼 배치**: 다운로드 → 편집 → 삭제 순서
- **색상 구분**: 기능별 버튼 색상 구분 (초록/파랑/빨강)
- **툴팁 제공**: 버튼 기능 설명 툴팁
- **반응형 디자인**: 모바일과 데스크톱 모두 지원

---

## 📊 **API 사용량 관리**

### **실시간 모니터링**
- **토큰 사용량**: 실시간 토큰 소모량 표시
- **비용 계산**: API 사용 비용 실시간 계산
- **호출 통계**: 타입별, 모델별 API 호출 통계

### **세션 관리**
- **사용량 초기화**: 세션별 사용량 초기화 기능
- **상세 통계**: AI 서비스 설정 모달에서 상세 통계 확인

---

## 🎯 **주요 워크플로우**

### **1. 기본 영상 제작 워크플로우**
```
프로젝트 생성 → 스토리/캐릭터 입력 → 이미지 생성 → 영상 생성 → 결과 확인
```

### **2. 이미지 생성 워크플로우**
```
AI 이미지 생성 → 프롬프트 입력 → 확인 후 생성 → 이미지 관리 (편집/삭제/다운로드)
```

### **3. 영상 생성 워크플로우**
```
텍스트 카드 생성 → 이미지 선택 → 영상 설정 → 영상 생성 → 결과 확인
```

---

## 🔒 **보안 및 개인정보**

### **로컬 저장**
- **IndexedDB**: 브라우저 로컬 데이터베이스 사용
- **localStorage**: 설정 및 임시 데이터 저장
- **데이터 암호화**: 민감한 정보는 암호화하여 저장

### **API 키 관리**
- **로컬 저장**: API 키는 사용자 로컬에만 저장
- **암호화**: API 키는 암호화되어 저장
- **보안 설정**: AI 서비스 설정 모달에서 안전하게 관리

---

## 📈 **향후 개선 계획**

### **1. 기능 확장**
- **음성 생성**: AI 기반 음성/내레이션 생성
- **자막 생성**: 자동 자막 생성 기능
- **영상 편집**: 기본적인 영상 편집 기능

### **2. 성능 개선**
- **캐싱 시스템**: 이미지 및 영상 캐싱
- **배치 처리**: 여러 이미지 동시 생성
- **백그라운드 처리**: 긴 작업의 백그라운드 처리

### **3. 사용자 경험**
- **템플릿 시스템**: 미리 정의된 템플릿 제공
- **협업 기능**: 팀원과의 프로젝트 공유
- **버전 관리**: 프로젝트 버전 관리 시스템

---

## 🛠️ **기술 스택**

### **Frontend**
- **React 18**: 최신 React 기능 활용
- **TypeScript**: 타입 안전성 보장
- **Tailwind CSS**: 유틸리티 퍼스트 CSS 프레임워크
- **Zustand**: 경량 상태 관리 라이브러리

### **AI 서비스**
- **Google AI (Gemini)**: 텍스트 생성 및 이미지 생성
- **Google AI (Veo)**: 영상 생성
- **Imagen API**: 고품질 이미지 생성

### **데이터베이스**
- **IndexedDB**: 클라이언트 사이드 데이터베이스
- **localStorage**: 설정 및 캐시 데이터

---

## 📞 **지원 및 문의**

프로젝트 관련 문의사항이나 버그 리포트는 개발팀에 연락해 주세요.

---

**최종 업데이트**: 2024년 11월 1일
**버전**: 1.0.0
