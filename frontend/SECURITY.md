# 🔒 보안 가이드

## 📋 개요

이 문서는 AI 기반 스토리→이미지→영상 제작 워크플로우 툴의 보안 설정 및 모범 사례를 설명합니다.

## 🛡️ 보안 기능

### 1. 비밀번호 보안
- **해시화**: 모든 비밀번호는 SHA-256 해시로 저장
- **솔트**: 고유한 솔트를 사용하여 레인보우 테이블 공격 방지
- **평문 저장 금지**: 비밀번호는 절대 평문으로 저장되지 않음

### 2. 환경변수 관리
- **민감한 정보**: 관리자 계정 정보는 환경변수로 관리
- **API 키**: 모든 API 키는 환경변수로 설정
- **기본값**: 안전한 기본값 제공

### 3. 데이터 보호
- **민감한 정보 제거**: 사용자 객체에서 비밀번호 제거
- **API 키 마스킹**: 로그에서 API 키 일부만 표시
- **에러 로깅**: 민감한 정보가 포함되지 않은 에러 메시지

## ⚙️ 환경변수 설정

### 필수 환경변수
```bash
# 관리자 계정 설정
REACT_APP_ADMIN_EMAIL=admin@storyboard.local
REACT_APP_ADMIN_PASSWORD=admin123!

# AI 서비스 API 키
REACT_APP_GEMINI_API_KEY=your-gemini-api-key
REACT_APP_OPENAI_API_KEY=your-openai-api-key
REACT_APP_ANTHROPIC_API_KEY=your-anthropic-api-key
```

### 보안 권장사항
1. **강력한 비밀번호**: 최소 8자, 대소문자, 숫자, 특수문자 포함
2. **정기적 변경**: 관리자 비밀번호 정기적 변경
3. **환경변수 보호**: .env 파일을 .gitignore에 포함
4. **API 키 로테이션**: API 키 정기적 교체

## 🔐 인증 시스템

### 로그인 프로세스
1. 사용자 이메일로 계정 검색
2. 입력된 비밀번호를 해시화
3. 저장된 해시와 비교
4. 성공 시 민감한 정보 제거 후 반환

### 회원가입 프로세스
1. 이메일 중복 확인
2. 비밀번호 해시화
3. 사용자 정보 저장
4. 민감한 정보 제거 후 반환

### 프로필 수정 프로세스
1. 사용자 인증 확인
2. 비밀번호 변경 시 해시화
3. 정보 업데이트
4. 민감한 정보 제거 후 반환

## 🚨 보안 주의사항

### 개발 환경
- **로컬 스토리지**: 개발용으로만 사용, 프로덕션에서는 데이터베이스 사용 권장
- **해시 알고리즘**: 프로덕션에서는 bcrypt, scrypt 등 더 강력한 알고리즘 사용 권장
- **HTTPS**: 프로덕션에서는 반드시 HTTPS 사용

### 프로덕션 환경
- **데이터베이스**: 실제 데이터베이스 사용
- **세션 관리**: JWT 또는 세션 기반 인증
- **암호화**: 전송 데이터 암호화
- **방화벽**: 적절한 방화벽 설정

## 🔍 보안 검사

### 정기적 점검 항목
1. **환경변수**: 민감한 정보가 코드에 하드코딩되지 않았는지 확인
2. **비밀번호**: 해시화되어 저장되는지 확인
3. **API 키**: 마스킹되어 표시되는지 확인
4. **에러 메시지**: 민감한 정보가 노출되지 않는지 확인

### 코드 검토
```typescript
// ❌ 잘못된 예시 (평문 비밀번호)
const user = {
  email: 'admin@example.com',
  password: 'admin123' // 평문 저장 금지
};

// ✅ 올바른 예시 (해시화된 비밀번호)
const user = {
  email: 'admin@example.com',
  password: await CryptoUtils.hashPassword('admin123') // 해시화
};
```

## 📞 보안 문제 신고

보안 취약점을 발견한 경우:
1. 이메일: security@storyboard.local
2. 즉시 응답하여 문제 해결
3. 책임감 있는 공개 원칙 준수

## 📚 추가 리소스

- [OWASP 보안 가이드](https://owasp.org/www-project-top-ten/)
- [React 보안 모범 사례](https://reactjs.org/docs/security.html)
- [Node.js 보안 체크리스트](https://blog.risingstack.com/node-js-security-checklist/)

---

**최종 업데이트**: 2025-09-17  
**버전**: v1.0  
**작성자**: star612.net
